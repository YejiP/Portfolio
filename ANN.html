<!doctype html>
<br><br><br><br>
<div align = "center"><img src ="img/me.png" width = 100px></div><br>
<h5><center>Yeji Park</center></h5>

<style>
    #text {
        float : left;
        padding-left :10%;
        text-align:center;
        }

    #pic{
        padding-left :10%;
        padding-right:10%;
    }
    #title {
        padding-left :10%;
        padding-right :10%;
        float:bottom;}

    #n {
        padding-left :0%;
        padding-right :10%;
        float:left;
        text-align:center;
    }


    #explanation {
        padding-left :10%;
        padding-right :10%;
    }
</style>

<div align = "center"><img src = "img/bar.png" width = 82% height = 10 px></div>
<center><h1>Character Recognition</h1><h4>(using Artificial Neural Network)</h4></center>
<br>
<div align = "center"><div id = title><a href = "http://ec2-15-164-171-208.ap-northeast-2.compute.amazonaws.com:8080/numbers/"><h2>Click to run demo</h2></a></div></div>


<div id =title ><h3>0. Problem description</h3><br></div>
<div id =title >According to given picture which contains one written number among 0 to 9, It will recognize the number from the picture.
<br> <b>Ex)</b> This picture below is the size of 28*28, has 784 pixels. Each pixel contains information of location and the brightness.
<br>By combining these two information, computer also can recognize the number in picture. Forwawrd and back propagation are used when the model is made.
</div>
<div id =pic><img src = "img/ann_concept.PNG" width = 900 px></div>

<div id =title ><h3>1. Forward propagation</h3><br></div>
<div id =pic><a href = "ANN/forward.html"><img src = "img/forward_con.PNG" width = 400 px></a></div>

<div id = title><h1>Forward propagation</h1></div>
<div id =pic><img src = "ANN/img/forward_pa.PNG" width = 800 px> </div>
<div id = title>
Forward propagation is inferring the value using a model created based on input values and answer.<br>
Each node in the neral network is called perceptron.
Input perceptrons affect perceptrons in the next layer, and this perceptrons in the next layer affects perceptrons in its next layer.
</div><br><br>
<div id =pic><img src = "ANN/img/for_mo.PNG" width = 400 px align = "left"><br><br>Each perceptrons in the input layer are used to make perceptron in the next layer. The values of each perceptron are multiplied by weights and is summed up to make perceptrons in the next layer. <br>
<br>The result of summation then becomes the input of activation function such as sigmoid, ReLu.<br>
Creating the right model for the problem is largely related to finding right weights. Input values are given, therefore by changing weights, proper model can be made.</div>
<br><br>
<br><div id = explanation>
Then, How can we find proper weights? It can be done by evaluating errors of current model, and changing its weights based on errors. This part is for back propagation.
However, We cannot find proper weights at one go. So usually, Initial weights are random number between -1 to 1.
Then, infer the value and based on the errors it can modify its weight.</div>
<br><br>
<div id =pic><img src = "ANN/img/for_err.PNG" width = 600 px></div>


<div id = explanation>

    <br><b>How do we know how much errors we have in this model?</b><br>
    <u>If we simply add the errors? </u>
    <br>0.2+0.1+0.2+(-0.9)+(0.05)+0.25+0+0.05+0.05+0 =  0.5 +(-0.9) +0.3 = <b>-0.01</b><br>
    the errors is only -0.01. It is becuase some nodes have different sign, so they cancel out each other's errors.<br>
    <br>To avoid this, Squaring each errors and then add.
    <br>
    0.2<sup>2</sup>+0.1<sup>2</sup>+0.2<sup>2</sup>+(-0.9)<sup>2</sup>+(0.05)<sup>2</sup>+0.25<sup>2</sup>+0<sup>2</sup>+0.05<sup>2</sup>+0.05<sup>2</sup>+0 <sup>2</sup>= <b>1.01</b>
    <br>The evaluation function we will use here is 1/2(correct answer-estimated answer)<sup>2</sup>
    (1/2)*1.01 = 0.505 <b>error for this case</b>
    <br>
    <br>Now, we can scale up to every training case.<br></div><br>
    <div id = pic><img src = "ANN/img/scale.PNG" width = 600 px>
    <br>
    <u>So how can we update the weight using evaluation function?</u>
    <br><h2>By using <a href = "back.html">Back-progation</a></a></h2>
    <br><br>
</div>

<div id =title ><h3>2. Back-propagation</h3><br></div>
<div id =pic><a href = "ANN/back.html"><img src = "img/back_con.PNG" width = 400 px></a></div>

<div id = title><h1>Back-propagation</h1></div>
<div id = pic><img src = "ANN/img/bac.PNG" width = 700 px><br></div>
<div id = explanation>
    Back-propagation is the process of neural network finding right weights.Depending on how much each node contributes to the total error.
    we will focus on <b>1. How much error each node contributes  2. How much weight should be updated</b>
    <br>Back-propagation starts from the nodes from the output layer. These nodes can be evaluated by seeing how different it is from the right answer, and this differences can represented with one number by using cost function(evaluation function)<br>
</div>
<div id = pic><br><img src = "ANN/img/back_err.PNG" width = 400 px align = left><br><h4>Cost(errors)  for this case = 0.255 </h4>
Derived from cost function : 1/2 (Correct answer - Estimated answer)<sup>2</sup><br>
Add up all costs for this case. <br></div>
1/2(0.4 <sup>2</sup> + (-0.3) <sup>2</sup> + 0.5 <sup>2</sup> + (-0.1) <sup>2</sup>)<br>

<div id = pic><br><img src = "ANN/img/back_cost.PNG" width = 550 px><br></div><br> <br> <br>
<div id = explanation>
    Let's assume we have 3 datas for training the Neural network. We want to evaluate if the model we currently have is good enough or not.<br>
    so using one model(same weights for every cases) , we can evaluate the performance of our model.
    The pictures below show how it works. Weight does not change, but Input is different. so a1 and a2 from layer 2 have different number for each case.
    There is 784 input nodes. The value of each input node represents as number 1 or 0, which is the information of brightness of pixel.
</div>
<div id = pic><br><img src = "ANN/img/5.PNG" width = 600 px align = left><br><br><br><br><br> Input nodes can be  [1,0,0,0,....1,1,1].<br> Correct answer is [0,0,0,0,0,1,0,0,0,0]</div>
<div id = pic><img src = "ANN/img/9.PNG" width = 600 px align = left><br><br><br><br><br><br><br><br><br> Input nodes can be  [0,1,0,1,....0,0,1].<br> Correct answer is [0,0,0,0,0,,0,0,0,1]<br></div>
<div id = pic><br><img src = "ANN/img/4.PNG" width = 600 px align = left><br><br><br><br><br><br><br><br> Input nodes can be  [0,0,0,0,....1,1,0].<br> Correct answer is [0,0,0,1,0,0,0,0,0,0]<br></div>

<div id = explanation>
    <br><br><br><br>
    By this, total errors that this model has is 3.51 (1.01 + 0.5 + 2). We want to minimize the errors. so weights making error less than 3.51 is what we are aiming for. <br>
    This can be found by <b>derivative.</b> <br>
    Let's name the picture 5,9,4 as a,b,c.
    We can write equation which shows more detail. The equation is attached below. In this equation, Weights are variable, Things like a.a1, a.a2 , b.a1, b.correct answer are constants (The specific number). So what we need to focus on is weights which are written w11, w12.<br>
Now let's focus on one variable "w11". How can we change w11? Should we increase the value or decrease?

</div>

<div id = pic><br><img src = "ANN/img/equation.PNG" width = 600 px ></div>
<div id = explanation>
We can rearrange this equation like the picture below. The cost function consists of weight variables. <br>
<b>y = Cost function(w11,w12, ....w41,w42) </b><br>

</div>
<div id = pic><br><img src = "ANN/img/rearrange.PNG" width = 800 px ><br></div>
<div id = explanation><br>
y = cost function(w11,w12,...w41,w42)<br>
purpose : minimize 'y' value<br>
There is two posibility, wheter increase the w11 value or decrease.  *delta is very small number. <br>
<b>1.cost function(<u>w11 + delta</u>,w12,...w41,w42) 2.cost function(<u>w11 - delta</u>,w12,...w41,w42) <br></b>
If the 'y' value of case 1 is less than current value, this is the way to go, or it is more than current value, then the opposite way is what we should take.We can relate this to differentiation.
</div>
<div id = pic><br><img src = "ANN/img/limit.PNG" width = 400 px align = left>
Moment slope = Deritives.
In this case, We want Moment slope to be negative.

<br></div>

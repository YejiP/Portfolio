# 게시판8) 글수정

**jsp**

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Insert title here</title>
        <script>
            function boardList(){
                location.href = "boardlist"
            }
        </script>
    </head>
    <body>
        <div class = "wrapper">
            <h1> [  글 수 정  ]</h1>
            <form id ="" action ="boardupdate" method = "POST">
                <!-- 꼭 필요! board seq hidden 으로 보내준다. -->
                <input type="hidden" name="boardseq" value="${board.boardseq }">
                <table border  ="1">
                    <tr>
                        <th>글쓴이</th>
                        <td>${sessionScope.loginName}</td>
                    </tr>
                    <tr>
                        <th>제목</th>
                        <td><input type = "text" name ="title" value = "${board.title }" required ></td>
                    </tr>

                    <tr>
                        <th>첨부파일</th>
                        <td><input type= "file"  ></td>
                    </tr>

                    <tr>
                        <th>글내용</th>
                        <td><textarea rows="10" cols = "50" name="message" required>${board.message }</textarea></td>
                    </tr>
                    <tr>
                        <th colspan="2"><input type = "button" value = "목록으로" onclick = "boardList();">&nbsp;
                            <input type = "submit" value="수정"></th>
                    </tr>
                </table>

            </form>
        </div>
    </body>
</html>
```

**controller**

```java
@RequestMapping("/boardupdate")
public String boardUpdate(int boardseq, Model model) {
    Board board = repository.boardDetail(boardseq);
    //이거 덕분에 jsp에서 ${board.userid} 이렇게 사용 가능 
    model.addAttribute("board",board);
    return "board/boardUpdate";
}

@RequestMapping(value = "/boardupdate", method = RequestMethod.POST)
public String boardUpdate(Model model, Board board) {
    int result  = repository.boardUpdate(board);
    return "redirect:boardlist";
}
```

**repository**

```java
public int boardUpdate(Board board) {
    BoardMapper mapper = session.getMapper(BoardMapper.class);

    int result = mapper.boardUpdate(board);

    return result;
}
```

**mapper.xml**

```xml
<update id = "boardUpdate" parameterType = "Board">
    UPDATE
    board
    SET
    title = #{title} 
, message = #{message}
WHERE
    boardseq = #{boardseq}
</update>
```
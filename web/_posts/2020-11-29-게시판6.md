# 게시판6) 글쓰기

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Insert title here</title>
        <script>
            function boardList(){
                location.href = "boardlist"
            }
        </script>
    </head>
    <body>
        <div class = "wrapper">
            <h1> [  글 쓰 기  ]</h1>
            <form id ="" action ="boardwrite" method = "POST">
                <table border  ="1">
                    <tr>
                        <th>글쓴이</th>
                        <td>${sessionScope.loginName}</td>
                    </tr>
                    <tr>
                        <th>제목</th>
                        <td><input type = "text" name ="title" required></td>
                    </tr>

                    <tr>
                        <th>첨부파일</th>
                        <td><input type= "file"  ></td>
                    </tr>

                    <tr>
                        <th>글내용</th>
                        <td><textarea rows="10" cols = "50" name="message"required></textarea></td>
                    </tr>
                    <tr>
                        <th colspan="2"><input type = "button" value = "목록으로" onclick = "boardList();">&nbsp;
                            <input type = "submit" value="등록"></th>
                    </tr>
                </table>

            </form>
        </div>
    </body>
</html>
```

**controller**

```java
@RequestMapping(value="/boardwrite" ,method=RequestMethod.POST)
public String boardWrite(Board board, HttpSession session) {
    String userid = (String)session.getAttribute("loginId");
    board.setUserid(userid);
    repository.boardWrite(board);
    return "redirect:boardlist";
}
```

**repository**

```java
public List<Board> boardList(String searchItem, String searchWord) {
    Map<String,String> map = new HashMap<String,String>();
    BoardMapper mapper =  session.getMapper(BoardMapper.class);

    map.put("searchItem",searchItem);
    map.put("searchWord",searchWord);
    List<Board> list = mapper.boardList(map);
    return list;
}
```

**mapper.xml**

- regdate는 자동으로 넣어진다. hitcount도 default 가 0이라서 글 작성시 따로 넣어주지 않아도 된다.

```xml
<insert id="boardRegist" parameterType = "Board">
    INSERT INTO board
    (
    boardseq,
    userid,
    title,
    message
    )
    VALUES
    (
    board_seq.nextval
    ,#{userid}
    ,#{title}
    ,#{message}
    )
</insert>
```




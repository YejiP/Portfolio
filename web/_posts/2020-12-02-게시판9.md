# 게시판9) 게시판 페이징

**jsp**

```jsp
<c:forEach var= "board" items="${list}" varStatus="status">
<tr>
<td>${ status.count + (currentPage-1)*10}</td>
    </tr>
</c:forEach>
```

**페이지 번호**

```jsp


<div class = "navigator">
    전체 글개수 : ${totalRecordCount }<br>
    ◁  
    <c:forEach var ="page" begin="1" end = "${totalPageCount }">
        <c:if test = "${currentPage eq page}">
            <span style = "color : red; font-weight: bold">"${page}"</span>
        </c:if>
        <c:if test = "${currentPage ne page}">
            <a href = "boardlist?currentPage=${page }&currentPage=${page}&searchItem=${ searchItem}&searchWord=${searchWord}">
                ${page} &nbsp;
            </a>
        </c:if>
    </c:forEach>
    ▷
</div>
```

**repository**

```java
public List<Board> boardList(int srow, int erow, String searchItem, String searchWord) {
    Map<String,Object> map = new HashMap<String,Object>();
    BoardMapper mapper =  session.getMapper(BoardMapper.class);

    map.put("searchItem",searchItem);
    map.put("searchWord",searchWord);
    map.put("srow",srow);
    map.put("erow",erow);

    List<Board> list = mapper.boardList(map);
    return list;
}

```

**controller**

```java
@RequestMapping("/boardlist")
public String boardList(
    @RequestParam(value="currentPage",defaultValue="1") int currentPage,
    @RequestParam(value="searchItem", defaultValue ="title") String searchItem, 
    @RequestParam(value="searchWord", defaultValue ="") String searchWord,
    Model model) {
    int totalRecordCount = repository.getBoardCount(searchItem,searchWord);
    int countPerPage = 10;
    int totalPageCount = (totalRecordCount+countPerPage-1)/countPerPage;
    int srow = 1+(currentPage-1)*countPerPage;
    int erow = currentPage*countPerPage;
    List<Board> list = repository.boardList(srow,erow,searchItem,searchWord);//글 목록 조회
    model.addAttribute("list",list);
    model.addAttribute("currentPage",currentPage);
    model.addAttribute("searchItem", searchItem);
    model.addAttribute("searchWord", searchWord);
    model.addAttribute("totalRecordCount",totalRecordCount);
    model.addAttribute("totalPageCount",totalPageCount);
    return "board/boardList";
}
```



 SELECT * FROM TEMP WHERE ROWNUM >= 1 AND ROWNUM <=10

일케하면 1~10까지는 나오는데, 11에서 21은 안 나온다.

왜냐면, ROWNUM은 동적 데이터라서 항상 1번부터 나타난다.

아니면 ROWNUM에 별칭을 줘서 동적데이터로 안하게..

```
SELECT * FROM (
SELECT ROWNUM AS nu, temp.* from
 (select
 *
 from 
 board
 where
 	title like '%'||''||'%'
 order by
 	boardseq DESC
 ) temp
 )
 WHERE NU >=11 AND NU<=20;
```


# 게시판7) 글확인

```jsp
<h1> [  글 보 기  ]</h1>

<table border  ="1">
    <tr>
        <th>글쓴이</th>
        <td>${board.userid}</td>
    </tr>
    <tr>
        <th>제목</th>
        <td>${board.title }</td>
    </tr>

    <tr>
        <th>첨부파일</th>
        <td></td>
    </tr>

    <tr>
        <th>글내용</th>
        <td><pre>${board.message}</pre></td>
    </tr>
    <tr>

        <th colspan="2">
            <c:if test = "${sessionScope.loginId==board.userid }">
                <input type = "button" value = "글수정">&nbsp;
                <input type = "button" value="글삭제"></c:if>
            <a href = "">목록으로 </a>
        </th>
    </tr>
</table>
<br>
```

**controller**

```java
@RequestMapping(value="/boardwrite" ,method=RequestMethod.POST)
public String boardWrite(Board board, HttpSession session) {
    String userid = (String)session.getAttribute("loginId");
    board.setUserid(userid);
    System.out.println(board);
    repository.boardWrite(board);
    return "redirect:boardlist";
}
```

**repository**

```java
public Board boardDetail(int boardseq) {
    BoardMapper mapper = session.getMapper(BoardMapper.class);
    Board board = mapper.boardDetail(boardseq);
    return board;
}
```

**mapper.xml**

```xml
<select id = "boardDetail" parameterType ="int" resultType="Board">
    SELECT 
    boardseq,
    userid,
    title,
    message,
    to_char(regdate,'YYYY-MM-DD') as regdate
    ,hitcount
    , originalfile
    , savedfile
    FROM 
    BOARD
    WHERE
    boardseq = #{boardseq}
</select>
```



 SELECT * FROM TEMP WHERE ROWNUM >= 1 AND ROWNUM <=10

일케하면 1~10까지는 나오는데, 11에서 21은 안 나온다.

왜냐면, ROWNUM은 동적 데이터라서 항상 1번부터 나타난다.

아니면 ROWNUM에 별칭을 줘서 동적데이터로 안하게..

```
SELECT * FROM (
SELECT ROWNUM AS nu, temp.* from
 (select
 *
 from 
 board
 where
 	title like '%'||''||'%'
 order by
 	boardseq DESC
 ) temp
 )
 WHERE NU >=11 AND NU<=20;
```



파일 업로드 / 다운로드

1) 디펜던시 추가 (pom.xml)

2) 업로드 파일 용량 제한 (root-context.xml) 

3) boardWrite.jsp : 태그 수정, form enctype 설정